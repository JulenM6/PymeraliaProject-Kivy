#:import ZBarCam kivy_garden.zbarcam.ZBarCam
#:import ZBarSymbol pyzbar.pyzbar.ZBarSymbol

<QrScreen>:
    # md_bg_color: app.theme_cls.bg_dark
    MDTopAppBar:
        title: "PymeShield"
        elevation: 1
        pos_hint: {"top": 1}
        md_bg_color: "#ff6720"
        specific_text_color: "black"
        left_action_items: [["keyboard-backspace", lambda x: root.goHome()]]
    MDBoxLayout:
        orientation: 'vertical'
        # TODO: La c√†mera s'obre per defecte...
        ZBarCam:
            id: zbarcam
            # optional, by default checks all types
            code_types: ZBarSymbol.QRCODE, ZBarSymbol.EAN13
        MDLabel:
            id: qrlabel
            size_hint: None, None
            size: self.texture_size[0], 50
            text: ', '.join([str(symbol.data) for symbol in zbarcam.symbols])
            on_text: root.calc(self.text)
    MDRectangleFlatButton:
        pos_hint: {'center_y': 0.80, 'x': 0.8}
        on_release: app.switch_screen('home')
        MDIcon:
            icon: 'home'
            halign: 'center'